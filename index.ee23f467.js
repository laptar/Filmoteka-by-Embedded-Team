var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,r.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r),r("ioBS9"),r("74Aiq"),r("24PIP");function s(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=74df5c4b3da0f8bb23d044877e91bb86&page=${e}`).then((e=>e.json()))}async function o(){return await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=74df5c4b3da0f8bb23d044877e91bb86&language=en-US").then((e=>e.json()))}async function i(e=1,t){return await fetch(`https://api.themoviedb.org/3/search/movie?query=${t}&api_key=74df5c4b3da0f8bb23d044877e91bb86&language=en-US&page=${e}`).then((e=>e.json().catch((e=>{console.log(e)}))))}var a=r("iJbGQ");const d=document.querySelector(".btn__list"),l=document.querySelector(".counter"),c=document.querySelector("#prev_btn"),u=document.querySelector("#first_btn"),m=document.querySelector("#left_dot_btn"),g=document.querySelector("#left_sec_btn"),y=document.querySelector("#left_btn"),h=document.querySelector("#center_btn"),v=document.querySelector("#right_btn"),b=document.querySelector("#right_sec_btn"),f=document.querySelector("#right_dot_btn"),S=document.querySelector("#last_btn"),_=document.querySelector("#next_btn");function p(e,t=1){e>1?d.classList.remove("visually-hidden"):d.classList.add("visually-hidden"),u.textContent=1,Number(u.textContent)+3>=t?m.classList.add("visually-hidden"):m.classList.remove("visually-hidden"),Number(u.textContent)+2>=t?u.classList.add("visually-hidden"):u.classList.remove("visually-hidden"),g.textContent=t-2,Number(g.textContent)<=0?g.classList.add("visually-hidden"):g.classList.remove("visually-hidden"),y.textContent=t-1,Number(y.textContent)<=0?y.classList.add("visually-hidden"):y.classList.remove("visually-hidden"),h.textContent=t,Number(h.textContent)===e?_.classList.add("visually-hidden"):_.classList.remove("visually-hidden"),1===Number(h.textContent)?c.classList.add("visually-hidden"):c.classList.remove("visually-hidden"),v.textContent=t+1,Number(v.textContent)>e?v.classList.add("visually-hidden"):v.classList.remove("visually-hidden"),b.textContent=t+2,Number(b.textContent)>e?b.classList.add("visually-hidden"):b.classList.remove("visually-hidden"),S.textContent=e,Number(S.textContent)-3<=t?f.classList.add("visually-hidden"):f.classList.remove("visually-hidden"),Number(S.textContent)-2<=t?S.classList.add("visually-hidden"):S.classList.remove("visually-hidden"),l.textContent=t}function L(e,t){return"next_btn"===e.target.id&&(t+=1),"prev_btn"===e.target.id&&(t-=1),[...e.target.classList].includes("num")&&(t=Number(e.target.textContent)),l.textContent=t,t}const x=document.querySelector(".gallery__list"),q=document.querySelector(".warning");function N(e,t,n,r=""){sessionStorage.setItem("currentNumPage",JSON.stringify(n)),sessionStorage.setItem("currentSerch",JSON.stringify(r)),e(n,r).then((e=>{t().then((t=>{const r=e.results;if(e.results.forEach(((e,n)=>{e.genre_ids.forEach(((e,s)=>{t.genres.forEach((t=>{t.id===e&&(r[n].genre_ids[s]=t.name)}))}))})),p(e.total_pages,n),localStorage.setItem("currentPage",JSON.stringify(r)),0===r.length)q.classList.remove("hidden"),form.reset();else{q.classList.add("hidden");const e=(0,a.renderMovieCard)(r);x.innerHTML=e}}))}))}r("brr8Z");var C=r("bTcpz");const I=document.querySelector(".btn__list"),w=document.querySelector(".gallery__list"),O=(document.querySelector(".search"),document.querySelector(".warning"),document.querySelector(".counter"),document.querySelector(".header__logo"));let E=sessionStorage.getItem("currentNumPage")?JSON.parse(sessionStorage.getItem("currentNumPage")):1,P=sessionStorage.getItem("currentSerch")?JSON.parse(sessionStorage.getItem("currentSerch")):"";document.addEventListener("submit",(function(e){e.preventDefault(),P=e.target.search.value,N(i,o,1,P)})),P?N(i,o,E,P):N(s,o,E),w.addEventListener("click",(function(e){(0,C.renderModal)(e,"currentPage")})),I.addEventListener("click",(function(e){E=sessionStorage.getItem("currentNumPage")?JSON.parse(sessionStorage.getItem("currentNumPage")):1,console.log(E),P=sessionStorage.getItem("currentSerch")?JSON.parse(sessionStorage.getItem("currentSerch")):"",E=L(e,E),P?N(i,o,E,P):N(s,o,E)})),O.addEventListener("click",(function(){console.log(123),P="",E=1,N(s,o,E)}));
//# sourceMappingURL=index.ee23f467.js.map
