var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n),n.register("bTcpz",(function(e,t){var o,n,a,d;function l(e,t){const o={openModalBtn:document.querySelector("[data-modal-open]"),modal:document.querySelector("[data-modal]"),info:document.querySelector(".modal"),body:document.querySelector("body")};if(o.body.classList.add("body-fixed"),"IMG"===e.target.nodeName){const n=JSON.parse(localStorage.getItem(t)).find((t=>String(t.id)===e.target.id));console.log(n);let a=localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[],d=localStorage.getItem("queue")?JSON.parse(localStorage.getItem("queue")):[];const l=a.some((t=>String(t.id)===e.target.id)),s=d.some((t=>String(t.id)===e.target.id));console.log(l),console.log(s);const i=`\n      <button type="button" class="modal__button-close" data-modal-close></button>\n    <div class="modal__image">\n      <img\n        src = "https://image.tmdb.org/t/p/w500/${n.poster_path}"\n        alt="${n.title}"\n           />\n    </div>\n    <div class="modal-info">\n      <h1 class="modal__title">${n.title}</h1>\n      <table class="modale_table">\n        <tbody class="modale_table">\n          <tr class="modale_table-row">\n            <td class="modale__table-name">Vote/Votes</td>\n            <td class="modale__table-about">\n              <span class="vote">${n.vote_average}</span>\n              <span class="modale__table-name">/</span>${n.vote_count}\n            </td>\n          </tr>\n          <tr class="modale__table-row">\n            <td class="modale__table-name">Popularity</td>\n            <td class="modale__table-about">${n.popularity}\n            </td>\n          </tr>\n          <tr class="modale__table-row">\n            <td class="modale__table-name">Original Title</td>\n            <td class="modale__table-about">${n.title}</td>\n          </tr>\n          <tr class="modale__table-row">\n            <td class="modale__table-name">Genre</td>\n            <td class="modale__table-about">${n.genre_ids.join(", ")}</td>\n          </tr>\n        </tbody>\n      </table>\n      <h2 class="modal__about-title">About</h2>\n      <p class="modal__about-text">${n.overview}</p>\n      <div class="buttons">\n        <button\n          type="button"\n          class="modal__button-watched modal__button-text"\n        >${l?"REMUVE WATCH":"add to watched"}\n          \n        </button>\n        <button type="button" class="modal__button-queue modal__button-text">\n        ${s?"REMUVE QUEUE":"add to queue"}\n          \n        </button>\n      </div>\n    </div>`;o.info.insertAdjacentHTML("beforeend",i),o.modal.classList.remove("is-hidden");document.querySelector("[data-modal-close]").addEventListener("click",(function(){o.body.classList.remove("body-fixed"),o.modal.classList.add("is-hidden"),o.info.innerHTML=""}));const c=document.querySelector(".modal__button-watched"),r=document.querySelector(".modal__button-queue");if(String(a.map((e=>e.id))).includes(e.target.id)){console.log(e.target.id),c.addEventListener("click",(function(){a=a.filter((t=>String(t.id)!==e.target.id)),localStorage.setItem("watched",JSON.stringify(a)),console.log("міняюADDQue"),c.textContent="ADD TO WATCHED",c.classList.add("accent"),c.disabled=!0}))}else{c.addEventListener("click",(function(){a.find((e=>e.id===n.id))||(a.push(n),localStorage.setItem("watched",JSON.stringify(a)),console.log("міняю"),c.textContent="REMUVE WATCH",c.classList.add("disable"),c.disabled=!0)}))}const u=String(d.map((e=>e.id)));if(console.log(u),u.includes(e.target.id)){r.addEventListener("click",(function(){d=d.filter((t=>String(t.id)!==e.target.id)),localStorage.setItem("queue",JSON.stringify(d)),console.log("міняюADDQue"),r.textContent="ADD TO QUEUE",r.classList.add("accent"),r.disabled=!0}))}else{r.addEventListener("click",(function(){d.find((e=>e.id===n.id))||(d.push(n),localStorage.setItem("queue",JSON.stringify(d)),console.log("міняюQue"),r.textContent="REMUVE QUEUE",r.classList.add("disable"),r.disabled=!0)}))}document.addEventListener("keydown",(e=>{o.body.classList.remove("body-fixed"),o.modal.classList.add("is-hidden"),o.info.innerHTML=""})),o.modal.addEventListener("mousedown",(e=>{o.body.classList.remove("body-fixed"),"SECTION"===e.target.nodeName&&(o.modal.classList.add("is-hidden"),o.info.innerHTML="")}))}}o=e.exports,n="renderModal",a=function(){return l},Object.defineProperty(o,n,{get:a,set:d,enumerable:!0,configurable:!0})})),n("bTcpz");
//# sourceMappingURL=library.f7246f99.js.map
