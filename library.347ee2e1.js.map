{"mappings":"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","sources":["src/library.js"],"sourcesContent":["import './js/preloader';\nimport './js/crew/crew-list';\nimport './js/scroll-up.js';\nimport './sass/main.scss';\nimport './js/theme-switcher';\nimport { renderMovieCard } from './js/renderMovieCard.js';\nimport { renderModal } from './js/modal';\nimport { counter } from './js/btn-pag';\nimport { toTopOnClick } from './js/scroll-up';\nimport { clickCounter } from './js/btn-pag';\n\nconst watchedBtn = document.querySelector('.watched');\nconst queueBtn = document.querySelector('.queue');\nconst perPage = document.querySelector('#perPage');\nconst libList = document.querySelector('.gallery-library__list');\nconst btnList = document.querySelector('.btn__list');\n\nfunction addToLocalStor(key, value) {\n  localStorage.getItem(key)\n    ? JSON.parse(localStorage.getItem(key))\n    : localStorage.setItem(key, JSON.stringify(value));\n  return JSON.parse(localStorage.getItem(key));\n}\n// let wachedArray = addToLocalStor('watched', []);\n// let queueArray = addToLocalStor('queue', []);\n\nfunction addToSessionStor(key, value) {\n  sessionStorage.getItem(key)\n    ? JSON.parse(sessionStorage.getItem(key))\n    : sessionStorage.setItem(key, JSON.stringify(value));\n  return JSON.parse(sessionStorage.getItem(key));\n}\n\nlet currentList = addToSessionStor('currentList', 'watched');\n// let currentPerPageWa = addToSessionStor('perPageWa', 9);\n// let currentPerPageQu = addToSessionStor('perPageQu', 9);\n// let currentPageLibWa = addToSessionStor('currentPageLibWa', 1);\n// let currentPageLibQu = addToSessionStor('currentPageLibQu', 1);\n\nfunction renderWatchadFilmCare() {\n  const wachedArray = addToLocalStor('watched', []);\n  const currentPerPageWa = addToSessionStor('perPageWa', 9);\n  const currentPageLibWa = addToSessionStor('currentPageLibWa', 1);\n  perPage.value = currentPerPageWa;\n  const total_pages = Math.ceil(wachedArray.length / currentPerPageWa);\n  counter(total_pages, currentPageLibWa);\n  libList.innerHTML = renderMovieCard(\n    wachedArray.slice(\n      (currentPageLibWa - 1) * currentPerPageWa,\n      currentPerPageWa * currentPageLibWa\n    )\n  );\n}\n\nfunction renderQueueFilmCard() {\n  const queueArray = addToLocalStor('queue', []);\n  const currentPerPageQu = addToSessionStor('perPageQu', 9);\n  const currentPageLibQu = addToSessionStor('currentPageLibQu', 1);\n  perPage.value = currentPerPageQu;\n  const total_pages = Math.ceil(queueArray.length / currentPerPageQu);\n  counter(total_pages, currentPageLibQu);\n  libList.innerHTML = renderMovieCard(\n    queueArray.slice(\n      (currentPageLibQu - 1) * currentPerPageQu,\n      currentPerPageQu * currentPageLibQu\n    )\n  );\n}\n\n// -------Стартовий рендер---------\n\nif (JSON.parse(sessionStorage.getItem('currentList')) === 'watched') {\n  watchedBtn.classList.add('btn-active');\n  queueBtn.classList.remove('btn-active');\n  renderWatchadFilmCare();\n} else {\n  watchedBtn.classList.remove('btn-active');\n  queueBtn.classList.add('btn-active');\n  renderQueueFilmCard();\n}\n\n// -------Перемикання кнопками вочед і кюе---------\n\nwatchedBtn.addEventListener('click', clickBtnWatch);\nfunction clickBtnWatch() {\n  watchedBtn.classList.add('btn-active');\n  queueBtn.classList.remove('btn-active');\n  sessionStorage.setItem('currentList', JSON.stringify('watched'));\n  renderWatchadFilmCare();\n}\n\nqueueBtn.addEventListener('click', clickBtnQueue);\nfunction clickBtnQueue() {\n  watchedBtn.classList.remove('btn-active');\n  queueBtn.classList.add('btn-active');\n  sessionStorage.setItem('currentList', JSON.stringify('queue'));\n  renderQueueFilmCard();\n}\n\n// -------Зміна кількості елементів на сторінці---------\n\nperPage.addEventListener('change', onPage);\nfunction onPage(evt) {\n  if (JSON.parse(sessionStorage.getItem('currentList')) === 'watched') {\n    const PerPageWa = Number(evt.target.value);\n    sessionStorage.setItem('perPageWa', JSON.stringify(PerPageWa));\n    sessionStorage.setItem('currentPageLibWa', JSON.stringify(1));\n    renderWatchadFilmCare();\n  } else {\n    const PerPageQu = Number(evt.target.value);\n    sessionStorage.setItem('perPageQu', JSON.stringify(PerPageQu));\n    sessionStorage.setItem('currentPageLibQu', JSON.stringify(1));\n    renderQueueFilmCard();\n  }\n}\n\n// -------Кнопки пагінації---------\n\nbtnList.addEventListener('click', onClick);\nfunction onClick(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    toTopOnClick();\n    if (JSON.parse(sessionStorage.getItem('currentList')) === 'watched') {\n      let curPage = addToSessionStor('currentPageLibWa', 1);\n      curPage = Number(clickCounter(evt, curPage));\n      sessionStorage.setItem('currentPageLibWa', JSON.stringify(curPage));\n      renderWatchadFilmCare();\n    } else {\n      let curPage = JSON.parse(sessionStorage.getItem('currentPageLibQu'));\n      curPage = Number(clickCounter(evt, curPage));\n      sessionStorage.setItem('currentPageLibQu', JSON.stringify(curPage));\n      renderQueueFilmCard();\n    }\n  }\n}\n\n// ----\n\nlibList.addEventListener('click', clickCard);\nfunction clickCard(evt) {\n  if (JSON.parse(sessionStorage.getItem('currentList')) === 'watched') {\n    renderModal(evt, 'watched');\n  } else {\n    renderModal(evt, 'queue');\n  }\n}\n\nexport { renderWatchadFilmCare, renderQueueFilmCard };\n"],"names":["parcelRequire","$ce3726a01b8ab25a$var$watchedBtn","document","querySelector","$ce3726a01b8ab25a$var$queueBtn","$ce3726a01b8ab25a$var$perPage","$ce3726a01b8ab25a$var$libList","$ce3726a01b8ab25a$var$btnList","$ce3726a01b8ab25a$var$addToLocalStor","key","value","localStorage","getItem","JSON","parse","setItem","stringify","$ce3726a01b8ab25a$var$addToSessionStor","sessionStorage","$ce3726a01b8ab25a$export$b240f5783f35f982","wachedArray","currentPerPageWa","currentPageLibWa","total_pages","Math","ceil","length","$iwBr5","counter","innerHTML","$iJbGQ","renderMovieCard","slice","$ce3726a01b8ab25a$export$420eb8d9c9ba3838","queueArray","currentPerPageQu","currentPageLibQu","classList","add","remove","addEventListener","evt","PerPageWa","Number","target","PerPageQu","nodeName","$74Aiq","toTopOnClick","curPage","clickCounter","$bTcpz","renderModal"],"version":3,"file":"library.347ee2e1.js.map"}