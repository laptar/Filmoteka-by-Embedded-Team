{"mappings":"oeAAAA,EAAA,S,WCMAC,eAAeC,EAAYC,GACvB,aAAaC,MAAM,mDAAoBD,oEAA0DE,MAAKC,GAC3FA,EAASC,OAAOC,OAAMC,IAAWC,QAAQC,IAAIF,QCN5DR,eAAeW,IACX,aAAaR,MAAM,yGAAyGC,MAAKC,GACtHA,EAASC,S,WCJxB,IAAAM,EAAAb,EAAA,SACA,MAAMc,EAAOC,SAASC,cAAc,kBAC9BC,EAAUF,SAASC,cAAc,YAEvC,SAASE,EAAkBd,EAAOe,EAAaC,EAAQ,IACrDhB,EAAMgB,GAAOf,MAAKgB,IAEhBF,IAAcd,MAAKiB,IACjB,MAAMC,EAAWF,EAAMG,QAavB,GAZAH,EAAMG,QAAQC,SAAQ,CAACC,EAAMC,KAC3BD,EAAKE,UAAUH,SAAQ,CAACI,EAAIC,KAC1BR,EAAKS,OAAON,SAAQO,IACdA,EAAGH,KAAOA,IACZN,EAASI,GAAKC,UAAUE,GAAQE,EAAGC,eAO3CC,aAAaC,QAAQ,cAAeC,KAAKC,UAAUd,IAC3B,IAApBA,EAASe,OACXrB,EAAQsB,UAAUC,OAAO,UACzBC,KAAKC,YACA,CACLzB,EAAQsB,UAAUI,IAAI,UACtB,MAAMC,GAAS,EAAA/B,EAAAgC,iBAAgBtB,GAC/BT,EAAKgC,UAAYF,S,4BHdzB,MAAMG,EAAOhC,SAASC,cAAc,kBACvBD,SAASC,cAAc,WACpBD,SAASC,cAAc,YAIvCE,GIbA,WACE,OAAOd,MACL,mGACAC,MAAKC,GACEA,EAASC,WJSYK,GAGhCG,SAASiC,iBAAiB,UAE1B,SAAsBC,GACpBA,EAAEC,iBAEFhC,EAAkBhB,EAAaU,EADjBqC,EAAEE,OAAOC,OAAOC,UAIhCN,EAAKC,iBAAiB,SACtB,SAAuBM,IACrB,EAAAC,EAAAC,aAAYF,EAAK","sources":["src/index.js","src/js/searchMovie.js","src/js/fetchGenres.js","src/js/addToLocalStorage.js","src/js/fetchPopular.js"],"sourcesContent":["import './js/scroll-up.js';\nimport './js/Crew/crew-list.js';\nimport { fetchPopular } from './js/fetchPopular.js';\nimport { searchMovie } from './js/searchMovie';\nimport { fetchGenres } from './js/fetchGenres.js';\nimport { renderMovieCard } from './js/renderMovieCard';\nimport { addToLocalStorage } from './js/addToLocalStorage';\nimport './js/theme-switcher';\nimport './sass/main.scss';\n\nimport { renderCard } from './js/renderCard';\nimport { renderModal } from './js/modal.js';\n\nconst list = document.querySelector('.gallery__list');\nconst form = document.querySelector('.search');\nconst warning = document.querySelector('.warning');\n\n//добавляет в локальное хранилище\n\naddToLocalStorage(fetchPopular, fetchGenres);\n\n\ndocument.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const query = e.target.search.value;\n  addToLocalStorage(searchMovie, fetchGenres, query);\n}\n\nlist.addEventListener('click', clickHeroCard);\nfunction clickHeroCard(evt) {\n  renderModal(evt, 'currentPage');\n}\n","const API_KEY = \"74df5c4b3da0f8bb23d044877e91bb86\";\nconst BASE_URL = \"https://api.themoviedb.org/3/search/movie?\";\nconst LANG = \"en-US\";\nconst PAGE = 1;\n\n\nasync function searchMovie(query) {\n    return await fetch(`${BASE_URL}query=${query}&api_key=${API_KEY}&language=${LANG}&page=${PAGE}`).then(response => {\n        return response.json().catch(error => { console.log(error) })\n    })\n}\n\nexport { searchMovie }","\n\nasync function fetchGenres() {\n    return await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=74df5c4b3da0f8bb23d044877e91bb86&language=en-US`).then(response => {\n        return response.json();\n    });\n}\n\n// Функция добавляет жанры в локальное хранилище\n// fetchGenres().then(data => {\n//     localStorage.setItem('genres', JSON.stringify(data));\n//   });\n\n//Переменная хранит в себе жанры из локального хранилища\n// const genresArray = JSON.parse(localStorage.getItem('genres'));\n\n\nexport { fetchGenres } ","import { renderMovieCard } from './renderMovieCard';\nconst list = document.querySelector('.gallery__list');\nconst warning = document.querySelector('.warning');\n\nfunction addToLocalStorage(fetch, fetchGenres, movie = '') {\n  fetch(movie).then(cards => {\n    // console.log(card.results);\n    fetchGenres().then(data => {\n      const cardGanr = cards.results;\n      cards.results.forEach((card, ind) => {\n        card.genre_ids.forEach((id, indx) => {\n          data.genres.forEach(el => {\n            if (el.id === id) {\n              cardGanr[ind].genre_ids[indx] = el.name;\n            }\n          });\n        });\n      });\n\n\n      localStorage.setItem('currentPage', JSON.stringify(cardGanr));\n      if (cardGanr.length === 0) {\n        warning.classList.remove('hidden');\n        form.reset();\n      } else {\n        warning.classList.add('hidden');\n        const markup = renderMovieCard(cardGanr);\n        list.innerHTML = markup;\n      }\n\n    });\n  });\n}\n\nexport { addToLocalStorage };\n","const API_KEY = '74df5c4b3da0f8bb23d044877e91bb86';\nconst API_URL_TRENDING = 'https://api.themoviedb.org/3/trending/';\nconst MEDIA_TYPE = 'movie';\nconst TIME_WINDOW = 'day';\nlet page = 1;\n\nfunction fetchPopular() {\n  return fetch(\n    `${API_URL_TRENDING}${MEDIA_TYPE}/${TIME_WINDOW}?api_key=${API_KEY}&page=${page}`\n  ).then(response => {\n    return response.json();\n  });\n}\n\n\n// Функция добавляет популярные фильмы  в локальное хранилище\n\n// function addPopularToLocalStorage(){\n//   fetchPopular().then(data => {\n//     localStorage.setItem('popular', JSON.stringify(data));\n//   });\n// }\n\n\nexport { fetchPopular }\n"],"names":["parcelRequire","async","$9488da62bf55fdf0$export$dd14e5c8db127693","query","fetch","then","response","json","catch","error","console","log","$5844b68ee09a1fe1$export$e95d448b93b2cdb","$iJbGQ","$39609341b24e273a$var$list","document","querySelector","$39609341b24e273a$var$warning","$39609341b24e273a$export$b4aebac53294aa19","fetchGenres","movie","cards","data","cardGanr","results","forEach","card","ind","genre_ids","id","indx","genres","el","name","localStorage","setItem","JSON","stringify","length","classList","remove","form","reset","add","markup","renderMovieCard","innerHTML","$1f0dc3b9307be026$var$list","addEventListener","e","preventDefault","target","search","value","evt","$bTcpz","renderModal"],"version":3,"file":"index.daf256d4.js.map"}