{"mappings":"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","sources":["src/library.js"],"sourcesContent":["import './js/preloader';\nimport './js/crew1/crew-list';\nimport './js/scroll-up.js';\nimport './sass/main.scss';\nimport './js/theme-switcher';\nimport { renderMovieCard } from './js/renderMovieCard.js';\nimport { renderModal } from './js/modal';\nimport { counter } from './js/btn-pag';\nimport { toTopOnClick } from './js/scroll-up';\nimport { clickCounter } from './js/btn-pag';\n\nconst watched = document.querySelector('.watched');\nconst queue = document.querySelector('.queue');\nconst perPage = document.querySelector('#perPage');\nconst libList = document.querySelector('.gallery-library__list');\nconst btnList = document.querySelector('.btn__list');\n\nfunction addArrToLocalStor(key) {\n  return localStorage.getItem(key) ? JSON.parse(localStorage.getItem(key)) : [];\n}\nlet wachedArray = addArrToLocalStor('watched');\nlet queueArray = addArrToLocalStor('queue');\n\nsessionStorage.getItem('currentList')\n  ? JSON.parse(sessionStorage.getItem('currentList'))\n  : sessionStorage.setItem('currentList', JSON.stringify('watched'));\nlet currentList = JSON.parse(sessionStorage.getItem('currentList'));\n\nsessionStorage.getItem('perPage')\n  ? JSON.parse(sessionStorage.getItem('perPage'))\n  : sessionStorage.setItem('perPage', JSON.stringify(9));\nlet currentPerPage = Number(JSON.parse(sessionStorage.getItem('perPage')));\nperPage.value = currentPerPage;\n\nsessionStorage.getItem('currentPageLibWa')\n  ? JSON.parse(sessionStorage.getItem('currentPageLibWa'))\n  : sessionStorage.setItem('currentPageLibWa', JSON.stringify(1));\nlet currentPageLibWa = JSON.parse(sessionStorage.getItem('currentPageLibWa'));\n\nsessionStorage.getItem('currentPageLibQu')\n  ? JSON.parse(sessionStorage.getItem('currentPageLibQu'))\n  : sessionStorage.setItem('currentPageLibQu', JSON.stringify(1));\nlet currentPageLibQu = JSON.parse(sessionStorage.getItem('currentPageLibQu'));\n\nif (currentList === 'watched') {\n  watched.classList.add('btn-active');\n  queue.classList.remove('btn-active');\n  let total_pages = Math.ceil(wachedArray.length / currentPerPage);\n  counter(total_pages, currentPageLibWa);\n  libList.innerHTML = renderMovieCard(\n    wachedArray.slice(\n      (currentPageLibWa - 1) * currentPerPage,\n      currentPerPage * currentPageLibWa\n    )\n  );\n} else {\n  watched.classList.remove('btn-active');\n  queue.classList.add('btn-active');\n  let total_pages = Math.ceil(queueArray.length / currentPerPage);\n  counter(total_pages, currentPageLibQu);\n  libList.innerHTML = renderMovieCard(\n    queueArray.slice(\n      (currentPageLibQu - 1) * currentPerPage,\n      currentPerPage * currentPageLibQu\n    )\n  );\n}\n\nqueue.addEventListener('click', clickBtnQueue);\nfunction clickBtnQueue() {\n  watched.classList.remove('btn-active');\n  queue.classList.add('btn-active');\n  sessionStorage.setItem('currentList', JSON.stringify('queue'));\n  currentList = 'queue';\n  queueArray = addArrToLocalStor('queue');\n  let total_pages = Math.ceil(queueArray.length / currentPerPage);\n  counter(total_pages, currentPageLibQu);\n  libList.innerHTML = renderMovieCard(\n    queueArray.slice(\n      (currentPageLibQu - 1) * currentPerPage,\n      currentPerPage * currentPageLibQu\n    )\n  );\n}\n\nwatched.addEventListener('click', clickBtnWatch);\nfunction clickBtnWatch() {\n  watched.classList.add('btn-active');\n  queue.classList.remove('btn-active');\n  sessionStorage.setItem('currentList', JSON.stringify('watched'));\n  currentList = 'watched';\n  wachedArray = addArrToLocalStor('watched');\n  let total_pages = Math.ceil(wachedArray.length / currentPerPage);\n  counter(total_pages, currentPageLibWa);\n  libList.innerHTML = renderMovieCard(\n    wachedArray.slice(\n      (currentPageLibWa - 1) * currentPerPage,\n      currentPerPage * currentPageLibWa\n    )\n  );\n}\n\nlibList.addEventListener('click', clickCard);\n\nfunction clickCard(evt) {\n  if (currentList === 'watched') {\n    renderModal(evt, 'watched');\n    wachedArray = addArrToLocalStor('watched');\n    let total_pages = Math.ceil(wachedArray.length / currentPerPage);\n    counter(total_pages, currentPageLibWa);\n    libList.innerHTML = renderMovieCard(\n      wachedArray.slice(\n        (currentPageLibWa - 1) * currentPerPage,\n        currentPerPage * currentPageLibWa\n      )\n    );\n  } else {\n    renderModal(evt, 'queue');\n    queueArray = addArrToLocalStor('queue');\n    let total_pages = Math.ceil(queueArray.length / currentPerPage);\n    counter(total_pages, currentPageLibQu);\n    libList.innerHTML = renderMovieCard(\n      queueArray.slice(\n        (currentPageLibQu - 1) * currentPerPage,\n        currentPerPage * currentPageLibQu\n      )\n    );\n  }\n}\n\nperPage.addEventListener('change', onPage);\nfunction onPage(evt) {\n  let currentPerPage = evt.target.value;\n  sessionStorage.setItem('perPage', JSON.stringify(currentPerPage));\n\n  if (currentList === 'watched') {\n    watched.classList.add('btn-active');\n    queue.classList.remove('btn-active');\n    wachedArray = addArrToLocalStor('watched');\n    let total_pages = Math.ceil(wachedArray.length / currentPerPage);\n    counter(total_pages, currentPageLibWa);\n    libList.innerHTML = renderMovieCard(\n      wachedArray.slice(\n        (currentPageLibWa - 1) * currentPerPage,\n        currentPerPage * currentPageLibWa\n      )\n    );\n  } else {\n    watched.classList.remove('btn-active');\n    queue.classList.add('btn-active');\n    queueArray = addArrToLocalStor('queue');\n    let total_pages = Math.ceil(queueArray.length / currentPerPage);\n    counter(total_pages, currentPageLibQu);\n    libList.innerHTML = renderMovieCard(\n      queueArray.slice(\n        (currentPageLibQu - 1) * currentPerPage,\n        currentPerPage * currentPageLibQu\n      )\n    );\n  }\n}\n\nbtnList.addEventListener('click', onClick);\nfunction onClick(evt) {\n  if (evt.target.nodeName === 'BUTTON') {\n    toTopOnClick();\n    if (currentList === 'watched') {\n      currentPageLibWa = JSON.parse(sessionStorage.getItem('currentPageLibWa'));\n      currentPageLibWa = clickCounter(evt, currentPageLibWa);\n      sessionStorage.setItem(\n        'currentPageLibWa',\n        JSON.stringify(currentPageLibWa)\n      );\n      wachedArray = addArrToLocalStor('watched');\n      let total_pages = Math.ceil(wachedArray.length / currentPerPage);\n      counter(total_pages, currentPageLibWa);\n      libList.innerHTML = renderMovieCard(\n        wachedArray.slice(\n          (currentPageLibWa - 1) * currentPerPage,\n          currentPerPage * currentPageLibWa\n        )\n      );\n    } else {\n      currentPageLibQu = JSON.parse(sessionStorage.getItem('currentPageLibQu'));\n      currentPageLibQu = clickCounter(evt, currentPageLibQu);\n      sessionStorage.setItem(\n        'currentPageLibQu',\n        JSON.stringify(currentPageLibQu)\n      );\n      queueArray = addArrToLocalStor('queue');\n      let total_pages = Math.ceil(queueArray.length / currentPerPage);\n      counter(total_pages, currentPageLibQu);\n      libList.innerHTML = renderMovieCard(\n        queueArray.slice(\n          (currentPageLibQu - 1) * currentPerPage,\n          currentPerPage * currentPageLibQu\n        )\n      );\n    }\n  }\n}\n"],"names":["parcelRequire","$ce3726a01b8ab25a$var$watched","document","querySelector","$ce3726a01b8ab25a$var$queue","$ce3726a01b8ab25a$var$perPage","$ce3726a01b8ab25a$var$libList","$ce3726a01b8ab25a$var$btnList","$ce3726a01b8ab25a$var$addArrToLocalStor","key","localStorage","getItem","JSON","parse","$ce3726a01b8ab25a$var$wachedArray","$ce3726a01b8ab25a$var$queueArray","sessionStorage","setItem","stringify","$ce3726a01b8ab25a$var$currentList","$ce3726a01b8ab25a$var$currentPerPage","Number","value","$ce3726a01b8ab25a$var$currentPageLibWa","$ce3726a01b8ab25a$var$currentPageLibQu","classList","add","remove","total_pages","Math","ceil","length","$iwBr5","counter","innerHTML","$iJbGQ","renderMovieCard","slice","addEventListener","evt","$bTcpz","renderModal","currentPerPage1","target","nodeName","$74Aiq","toTopOnClick","clickCounter"],"version":3,"file":"library.32be113e.js.map"}