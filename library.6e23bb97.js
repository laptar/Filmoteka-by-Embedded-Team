function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o),o.register("bTcpz",(function(t,n){e(t.exports,"renderModal",(function(){return d}));var a=o("iJbGQ");const l=document.querySelector(".gallery-library__list");function d(e,t){const n={openModalBtn:document.querySelector("[data-modal-open]"),modal:document.querySelector("[data-modal]"),info:document.querySelector(".modal"),body:document.querySelector("body")};if(n.body.classList.add("body-fixed"),"IMG"===e.target.nodeName){const a=JSON.parse(localStorage.getItem(t)).find((t=>String(t.id)===e.target.id));let o=localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[],l=localStorage.getItem("queue")?JSON.parse(localStorage.getItem("queue")):[];const s=o.some((t=>String(t.id)===e.target.id)),i=l.some((t=>String(t.id)===e.target.id)),r=`\n      <button type="button" class="modal__button-close" data-modal-close></button>\n    <div >\n      <img class="modal__image"\n        src = "https://image.tmdb.org/t/p/w500/${a.poster_path}"\n        alt="${a.title}"\n           />\n    </div>\n    <div class="modal-info">\n      <h1 class="modal__title">${a.title}</h1>\n      <table class="modale_table">\n        <tbody class="modale_table">\n          <tr class="modale_table-row">\n            <td class="modale__table-name">Vote/Votes</td>\n            <td class="modale__table-about">\n              <span class="vote">${a.vote_average}</span>\n              <span class="modale__table-name">/</span>${a.vote_count}\n            </td>\n          </tr>\n          <tr class="modale__table-row">\n            <td class="modale__table-name">Popularity</td>\n            <td class="modale__table-about">${a.popularity}\n            </td>\n          </tr>\n          <tr class="modale__table-row">\n            <td class="modale__table-name">Original Title</td>\n            <td class="modale__table-about">${a.title}</td>\n          </tr>\n          <tr class="modale__table-row">\n            <td class="modale__table-name">Genre</td>\n            <td class="modale__table-about">${a.genre_ids.join(", ")}</td>\n          </tr>\n        </tbody>\n      </table>\n      <h2 class="modal__about-title">About</h2>\n      <p class="modal__about-text">${a.overview}</p>\n      <ul class="buttons">\n        <button\n          type="button"\n          class="modal__button-watched modal__button-text ${s?"accent":""}"\n        >${s?"REMUVE WATCH":"add to watched"}\n          \n        </button>\n        <button \n          type="button"\n            class="modal__button-queue modal__button-text ${i?"accent":""}"\n        >${i?"REMUVE QUEUE":"add to queue"}\n          \n        </button>\n      </ul>\n    </div>`;n.info.insertAdjacentHTML("beforeend",r),n.modal.classList.remove("is-hidden");document.querySelector("[data-modal-close]").addEventListener("click",(function(){console.log("close"),d(),n.body.classList.remove("body-fixed"),n.modal.classList.add("is-hidden"),n.info.innerHTML=""}));const c=document.querySelector(".modal__button-watched"),u=document.querySelector(".modal__button-queue");c.addEventListener("click",(function(){String(o.map((e=>e.id))).includes(e.target.id)?(o=o.filter((t=>String(t.id)!==e.target.id)),localStorage.setItem("watched",JSON.stringify(o)),c.textContent="ADD TO WATCHED",c.classList.remove("accent")):o.find((e=>e.id===a.id))||(o.push(a),localStorage.setItem("watched",JSON.stringify(o)),c.textContent="REMUVE WATCH",c.classList.add("accent"))})),u.addEventListener("click",(function(){String(l.map((e=>e.id))).includes(e.target.id)?(l=l.filter((t=>String(t.id)!==e.target.id)),localStorage.setItem("queue",JSON.stringify(l)),u.textContent="ADD TO QUEUE",u.classList.remove("accent")):l.find((e=>e.id===a.id))||(l.push(a),localStorage.setItem("queue",JSON.stringify(l)),u.textContent="REMUVE QUEUE",u.classList.add("accent"))})),document.addEventListener("keydown",(e=>{d(),n.body.classList.remove("body-fixed"),n.modal.classList.add("is-hidden"),n.info.innerHTML=""})),n.modal.addEventListener("mousedown",(e=>{d(),n.body.classList.remove("body-fixed"),"SECTION"===e.target.nodeName&&(n.modal.classList.add("is-hidden"),n.info.innerHTML="")}))}function o(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[]}function d(){let e=sessionStorage.getItem("currentList")?JSON.parse(sessionStorage.getItem("currentList")):"watched";l&&("watched"===e?(watched=o("watched"),l.innerHTML=(0,a.renderMovieCard)(watched)):(queue=o("queue"),l.innerHTML=(0,a.renderMovieCard)(queue)))}}})),o.register("iJbGQ",(function(t,n){function a(e){if(0===e.length)return'<img class="gallery" src="https://c.tenor.com/KOZLvzU0o4kAAAAC/no-results.gif" width="500px" alt=""/>';return e.map((e=>{const t=e.release_date.split("-")[0];return`<li class="gallery__item">\n                                <img class="gallery__image" src="${e.poster_path?"https://image.tmdb.org/t/p/w500/"+e.poster_path:"https://c.tenor.com/MaKLmuQyh0UAAAAC/vincent-vega-pulp-fiction.gif"}" alt="${e.title}" id="${e.id}">\n                                <div class="gallery__wrapper">\n                                <h3 class="gallery__film-title">${e.title}</h3>\n                                <p class="gallery__film-genres">${e.genre_ids.length>=3?e.genre_ids.slice(0,2).join(", ")+", Others...":e.genre_ids.join(", ")?e.genre_ids.join(", "):"NO DATA"}\n                                \n\n\n\n                                <span class="gallery__film-year">| ${t}</span></p></div>\n                        </li>`})).join("")}e(t.exports,"renderMovieCard",(function(){return a}))})),o("bTcpz");
//# sourceMappingURL=library.6e23bb97.js.map
